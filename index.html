<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SisLoja - Sistema de Controle</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-container">
        <div class="login-box glass">
            <div class="logo-login">
                <h1><i class="fas fa-store"></i> SisLoja</h1>
                <p>Sistema de Controle de Loja J&J</p>
            </div>
            
            <div id="loginAlert" class="alert" style="display: none;"></div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" class="form-control" placeholder="admin@jj.com" required>
                </div>
                
                <div class="form-group">
                    <label for="loginPassword">Senha</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="••••••••" required>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                    <i class="fas fa-sign-in-alt"></i> Entrar
                </button>
            </form>
            
            <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--glass-border);">
                <p style="color: var(--text-dark); opacity: 0.7; font-size: 0.9rem;">
                    <strong>Credenciais:</strong><br>
                    Email: admin@jj.com<br>
                    Senha: J&J2024
                </p>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div id="mainContainer" class="main-container" style="display: none;">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-store"></i> SisLoja</h2>
                <p id="currentUserName">Administrador</p>
            </div>
            
            <nav class="nav-menu">
                <a href="#" class="nav-item active" data-module="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-module="produtos">
                    <i class="fas fa-boxes"></i>
                    <span>Produtos</span>
                </a>
                <a href="#" class="nav-item" data-module="vendas">
                    <i class="fas fa-cash-register"></i>
                    <span>Vendas</span>
                </a>
                <a href="#" class="nav-item" data-module="clientes">
                    <i class="fas fa-users"></i>
                    <span>Clientes</span>
                </a>
                <a href="#" class="nav-item" data-module="relatorios">
                    <i class="fas fa-chart-bar"></i>
                    <span>Relatórios</span>
                </a>
                <a href="#" class="nav-item" data-module="codigos">
                    <i class="fas fa-barcode"></i>
                    <span>Códigos de Barras</span>
                </a>
                <a href="#" class="nav-item" data-module="configuracoes">
                    <i class="fas fa-cog"></i>
                    <span>Configurações</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">A</div>
                    <div>
                        <div id="sidebarUserName" style="font-weight: 600;">Admin</div>
                        <button id="logoutBtn" class="btn btn-outline" style="padding: 5px 15px; font-size: 0.8rem; margin-top: 5px;">
                            <i class="fas fa-sign-out-alt"></i> Sair
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Topbar -->
            <div class="topbar glass">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button class="menu-toggle" id="menuToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="page-title" id="pageTitle">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </h1>
                </div>
                
                <div class="topbar-actions">
                    <div class="notification-badge">
                        <i class="fas fa-bell" style="font-size: 1.2rem; color: var(--text-dark);"></i>
                        <div class="badge" id="notificationCount">0</div>
                    </div>
                    <div id="currentTime" style="color: var(--text-dark); opacity: 0.7;"></div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content">
                <!-- Alerts Container -->
                <div id="alertsContainer"></div>
                
                <!-- Dashboard Module -->
                <div id="dashboardModule" class="module">
                    <div class="dashboard-grid">
                        <div class="stat-card glass">
                            <div class="stat-icon">
                                <i class="fas fa-boxes"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalProdutos">0</h3>
                                <p>Produtos Cadastrados</p>
                            </div>
                        </div>
                        
                        <div class="stat-card glass">
                            <div class="stat-icon">
                                <i class="fas fa-cash-register"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="vendasHoje">0</h3>
                                <p>Vendas Hoje</p>
                            </div>
                        </div>
                        
                        <div class="stat-card glass">
                            <div class="stat-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="estoqueBaixo">0</h3>
                                <p>Estoque Baixo</p>
                            </div>
                        </div>
                        
                        <div class="stat-card glass">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalClientes">0</h3>
                                <p>Clientes Cadastrados</p>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid" style="grid-template-columns: 2fr 1fr;">
                        <div class="card glass">
                            <div class="card-header">
                                <h2 class="card-title">Vendas Recentes</h2>
                                <button class="btn btn-primary" id="btnNovaVenda">
                                    <i class="fas fa-plus"></i> Nova Venda
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="table-container">
                                    <table id="tabelaVendasRecentes">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Data</th>
                                                <th>Cliente</th>
                                                <th>Itens</th>
                                                <th>Total</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- Vendas serão carregadas aqui -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card glass">
                            <div class="card-header">
                                <h2 class="card-title">Produtos Mais Vendidos</h2>
                            </div>
                            <div class="card-body">
                                <div id="produtosMaisVendidos">
                                    <!-- Produtos serão carregados aqui -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card glass">
                        <div class="card-header">
                            <h2 class="card-title">Produtos com Estoque Baixo</h2>
                        </div>
                        <div class="card-body">
                            <div class="table-container">
                                <table id="tabelaEstoqueBaixo">
                                    <thead>
                                        <tr>
                                            <th>Código</th>
                                            <th>Produto</th>
                                            <th>Estoque</th>
                                            <th>Mínimo</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Produtos serão carregados aqui -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Produtos Module -->
                <div id="produtosModule" class="module" style="display: none;">
                    <div class="card glass">
                        <div class="card-header">
                            <h2 class="card-title">Produtos</h2>
                            <div>
                                <button class="btn btn-primary" id="btnNovoProduto">
                                    <i class="fas fa-plus"></i> Novo Produto
                                </button>
                                <button class="btn btn-success" id="btnExportarProdutos">
                                    <i class="fas fa-file-export"></i> Exportar
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <input type="text" id="buscaProduto" class="form-control" placeholder="Buscar por nome, código ou categoria...">
                                </div>
                                <div class="form-group">
                                    <select id="filtroCategoria" class="form-control">
                                        <option value="">Todas Categorias</option>
                                        <option value="Alimentos">Alimentos</option>
                                        <option value="Bebidas">Bebidas</option>
                                        <option value="Limpeza">Limpeza</option>
                                        <option value="Higiene">Higiene</option>
                                        <option value="Eletrônicos">Eletrônicos</option>
                                        <option value="Vestuário">Vestuário</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="table-container">
                                <table id="tabelaProdutos">
                                    <thead>
                                        <tr>
                                            <th>Código</th>
                                            <th>Produto</th>
                                            <th>Categoria</th>
                                            <th>Preço</th>
                                            <th>Estoque</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Produtos serão carregados aqui -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Vendas Module -->
                <div id="vendasModule" class="module" style="display: none;">
                    <div class="card glass">
                        <div class="card-header">
                            <h2 class="card-title">Ponto de Venda (PDV)</h2>
                            <div>
                                <button class="btn btn-success" id="btnFinalizarVenda">
                                    <i class="fas fa-check"></i> Finalizar Venda
                                </button>
                                <button class="btn btn-danger" id="btnCancelarVenda">
                                    <i class="fas fa-times"></i> Cancelar
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="pdv-container">
                                <div>
                                    <div class="barcode-scanner">
                                        <input type="text" id="codigoBarrasInput" class="form-control barcode-input" 
                                               placeholder="Passe o código de barras ou digite o código" autofocus>
                                        <div style="text-align: center; margin-top: 10px; color: var(--text-dark); opacity: 0.7;">
                                            <i class="fas fa-keyboard"></i> Pressione ENTER para adicionar
                                        </div>
                                    </div>
                                    
                                    <div class="card glass mt-20">
                                        <div class="card-header">
                                            <h3 class="card-title">Carrinho de Compras</h3>
                                        </div>
                                        <div class="cart-items" id="carrinhoVenda">
                                            <!-- Itens do carrinho serão carregados aqui -->
                                        </div>
                                        <div class="cart-total">
                                            Total: R$ <span id="totalVenda">0.00</span>
                                        </div>
                                    </div>
                                    
                                    <div class="form-row mt-20">
                                        <div class="form-group">
                                            <label>Forma de Pagamento</label>
                                            <select id="formaPagamento" class="form-control">
                                                <option value="Dinheiro">Dinheiro</option>
                                                <option value="Cartão de Crédito">Cartão de Crédito</option>
                                                <option value="Cartão de Débito">Cartão de Débito</option>
                                                <option value="PIX">PIX</option>
                                                <option value="Transferência">Transferência</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label>Cliente</label>
                                            <select id="clienteVenda" class="form-control">
                                                <option value="">Consumidor Final</option>
                                                <!-- Clientes serão carregados aqui -->
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="card glass">
                                        <div class="card-header">
                                            <h3 class="card-title">Resumo da Venda</h3>
                                        </div>
                                        <div class="card-body">
                                            <div class="form-group">
                                                <label>Subtotal</label>
                                                <input type="text" id="subtotalVenda" class="form-control" value="R$ 0.00" readonly>
                                            </div>
                                            <div class="form-group">
                                                <label>Desconto (R$)</label>
                                                <input type="number" id="descontoVenda" class="form-control" value="0.00" min="0" step="0.01">
                                            </div>
                                            <div class="form-group">
                                                <label>Acréscimo (R$)</label>
                                                <input type="number" id="acrescimoVenda" class="form-control" value="0.00" min="0" step="0.01">
                                            </div>
                                            <div class="form-group">
                                                <label>Total</label>
                                                <input type="text" id="totalFinalVenda" class="form-control" value="R$ 0.00" readonly>
                                            </div>
                                            <div class="form-group">
                                                <label>Valor Recebido</label>
                                                <input type="number" id="valorRecebido" class="form-control" value="0.00" min="0" step="0.01">
                                            </div>
                                            <div class="form-group">
                                                <label>Troco</label>
                                                <input type="text" id="trocoVenda" class="form-control" value="R$ 0.00" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="card glass mt-20">
                                        <div class="card-header">
                                            <h3 class="card-title">Produtos Sugeridos</h3>
                                        </div>
                                        <div id="produtosSugeridos" class="card-body">
                                            <!-- Produtos sugeridos serão carregados aqui -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card glass mt-20">
                        <div class="card-header">
                            <h2 class="card-title">Histórico de Vendas</h2>
                            <div>
                                <input type="date" id="dataInicio" class="form-control" style="width: auto; display: inline;">
                                <span style="margin: 0 10px;">até</span>
                                <input type="date" id="dataFim" class="form-control" style="width: auto; display: inline;">
                                <button class="btn btn-primary" id="btnFiltrarVendas">
                                    <i class="fas fa-filter"></i> Filtrar
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-container">
                                <table id="tabelaHistoricoVendas">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Data/Hora</th>
                                            <th>Cliente</th>
                                            <th>Itens</th>
                                            <th>Total</th>
                                            <th>Pagamento</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Histórico será carregado aqui -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Clientes Module -->
                <div id="clientesModule" class="module" style="display: none;">
                    <div class="card glass">
                        <div class="card-header">
                            <h2 class="card-title">Clientes</h2>
                            <div>
                                <button class="btn btn-primary" id="btnNovoCliente">
                                    <i class="fas fa-plus"></i> Novo Cliente
                                </button>
                                <button class="btn btn-success" id="btnExportarClientes">
                                    <i class="fas fa-file-export"></i> Exportar
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <input type="text" id="buscaCliente" class="form-control" placeholder="Buscar por nome, telefone ou email...">
                            </div>
                            
                            <div class="table-container">
                                <table id="tabelaClientes">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Nome</th>
                                            <th>Telefone</th>
                                            <th>Email</th>
                                            <th>Total Compras</th>
                                            <th>Última Compra</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Clientes serão carregados aqui -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Relatórios Module -->
                <div id="relatoriosModule" class="module" style="display: none;">
                    <div class="card glass">
                        <div class="card-header">
                            <h2 class="card-title">Relatórios</h2>
                            <div>
                                <select id="tipoRelatorio" class="form-control" style="width: auto; display: inline;">
                                    <option value="vendas">Vendas por Período</option>
                                    <option value="produtos">Produtos Mais Vendidos</option>
                                    <option value="estoque">Estoque Baixo</option>
                                    <option value="faturamento">Faturamento Mensal</option>
                                    <option value="clientes">Clientes Mais Ativos</option>
                                </select>
                                <button class="btn btn-primary" id="btnGerarRelatorio">
                                    <i class="fas fa-chart-bar"></i> Gerar Relatório
                                </button>
                                <button class="btn btn-success" id="btnImprimirRelatorio">
                                    <i class="fas fa-print"></i> Imprimir
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="relatorioDataInicio">Data Início</label>
                                    <input type="date" id="relatorioDataInicio" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="relatorioDataFim">Data Fim</label>
                                    <input type="date" id="relatorioDataFim" class="form-control">
                                </div>
                            </div>
                            
                            <div id="relatorioContainer">
                                <canvas id="relatorioChart" height="100"></canvas>
                                <div id="relatorioTabela" class="table-container mt-20"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Códigos de Barras Module -->
                <div id="codigosModule" class="module" style="display: none;">
                    <div class="card glass">
                        <div class="card-header">
                            <h2 class="card-title">Gerar Código de Barras</h2>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Tipo de Código</label>
                                    <select id="tipoCodigo" class="form-control">
                                        <option value="EAN13">EAN-13</option>
                                        <option value="CODE128">CODE 128</option>
                                        <option value="CODE39">CODE 39</option>
                                        <option value="UPC">UPC</option>
                                        <option value="ITF14">ITF-14</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Valor do Código</label>
                                    <input type="text" id="valorCodigo" class="form-control" placeholder="Digite o valor ou código">
                                </div>
                                <div class="form-group">
                                    <label>Texto abaixo (opcional)</label>
                                    <input type="text" id="textoCodigo" class="form-control" placeholder="Texto que aparecerá abaixo do código">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Largura</label>
                                    <input type="range" id="larguraCodigo" class="form-control" min="1" max="4" step="0.1" value="2">
                                    <span id="larguraValor">2</span>
                                </div>
                                <div class="form-group">
                                    <label>Altura</label>
                                    <input type="range" id="alturaCodigo" class="form-control" min="20" max="200" step="10" value="100">
                                    <span id="alturaValor">100</span>
                                </div>
                            </div>
                            
                            <button id="btnGerarCodigo" class="btn btn-primary">
                                <i class="fas fa-barcode"></i> Gerar Código
                            </button>
                            <button id="btnImprimirCodigo" class="btn btn-success">
                                <i class="fas fa-print"></i> Imprimir
                            </button>
                            <button id="btnSalvarCodigo" class="btn btn-warning">
                                <i class="fas fa-download"></i> Salvar Imagem
                            </button>
                            
                            <div class="barcode-container glass mt-20">
                                <svg id="barcodeDisplay"></svg>
                                <div id="textoDisplay" class="mt-10" style="text-align: center; font-weight: bold;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card glass mt-20">
                        <div class="card-header">
                            <h2 class="card-title">Validador de Código de Barras</h2>
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label>Digite um código de barras para validar</label>
                                <input type="text" id="validarCodigo" class="form-control" placeholder="Digite um código EAN-13, UPC ou outro">
                            </div>
                            <button id="btnValidarCodigo" class="btn btn-primary">
                                <i class="fas fa-check-circle"></i> Validar
                            </button>
                            <div id="validacaoResultado" class="mt-20"></div>
                        </div>
                    </div>
                    
                    <div class="card glass mt-20">
                        <div class="card-header">
                            <h2 class="card-title">Gerar Códigos em Lote</h2>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Quantidade de códigos</label>
                                    <input type="number" id="quantidadeCodigos" class="form-control" min="1" max="100" value="10">
                                </div>
                                <div class="form-group">
                                    <label>Prefixo</label>
                                    <input type="text" id="prefixoCodigos" class="form-control" placeholder="EX: P">
                                </div>
                                <div class="form-group">
                                    <label>Iniciar em</label>
                                    <input type="number" id="inicioCodigos" class="form-control" value="1">
                                </div>
                            </div>
                            <button id="btnGerarLote" class="btn btn-primary">
                                <i class="fas fa-barcode"></i> Gerar Lote
                            </button>
                            <div id="loteResultado" class="mt-20"></div>
                        </div>
                    </div>
                </div>

                <!-- Configurações Module -->
                <div id="configuracoesModule" class="module" style="display: none;">
                    <div class="card glass">
                        <div class="card-header">
                            <h2 class="card-title">Configurações do Sistema</h2>
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label for="nomeLoja">Nome da Loja *</label>
                                <input type="text" id="nomeLoja" class="form-control" placeholder="Digite o nome da sua loja" required>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="cnpjLoja">CNPJ</label>
                                    <input type="text" id="cnpjLoja" class="form-control" placeholder="00.000.000/0000-00">
                                </div>
                                <div class="form-group">
                                    <label for="telefoneLoja">Telefone</label>
                                    <input type="text" id="telefoneLoja" class="form-control" placeholder="(00) 0000-0000">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="enderecoLoja">Endereço</label>
                                <textarea id="enderecoLoja" class="form-control" rows="2" placeholder="Endereço completo da loja"></textarea>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="estoqueMinimoAlerta">Estoque Mínimo para Alerta *</label>
                                    <input type="number" id="estoqueMinimoAlerta" class="form-control" min="1" value="5" required>
                                </div>
                                <div class="form-group">
                                    <label for="impostoPadrao">Imposto Padrão (%)</label>
                                    <input type="number" id="impostoPadrao" class="form-control" min="0" max="100" step="0.1" value="0">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="emailNotificacoes">Email para Notificações</label>
                                <input type="email" id="emailNotificacoes" class="form-control" placeholder="email@exemplo.com">
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="notificacoesAtivas" checked> Ativar notificações
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="backupAutomatico" checked> Backup automático
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="imprimirRecibo" checked> Imprimir recibo automaticamente
                                    </label>
                                </div>
                            </div>
                            
                            <div class="card-header mt-20" style="background: rgba(230, 57, 70, 0.1);">
                                <h3 class="card-title">Backup e Restauração</h3>
                            </div>
                            
                            <div class="form-row mt-20">
                                <div class="form-group">
                                    <button class="btn btn-success" id="btnExportarDados">
                                        <i class="fas fa-file-export"></i> Exportar Todos os Dados
                                    </button>
                                </div>
                                <div class="form-group">
                                    <button class="btn btn-warning" id="btnImportarDados">
                                        <i class="fas fa-file-import"></i> Importar Dados
                                    </button>
                                    <input type="file" id="importarArquivo" accept=".json" style="display: none;">
                                </div>
                                <div class="form-group">
                                    <button class="btn btn-danger" id="btnLimparDados">
                                        <i class="fas fa-trash"></i> Limpar Todos os Dados
                                    </button>
                                </div>
                            </div>
                            
                            <div class="alert alert-warning mt-20">
                                <i class="fas fa-exclamation-triangle"></i>
                                <strong>Atenção:</strong> A limpeza de dados é irreversível. Faça backup antes.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Produto -->
    <div id="modalProduto" class="modal">
        <div class="modal-content glass">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title" id="modalProdutoTitulo">Novo Produto</h2>
                    <button class="btn btn-danger" id="fecharModalProduto">&times;</button>
                </div>
                <div class="card-body">
                    <form id="formProduto">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="produtoCodigo">Código *</label>
                                <input type="text" id="produtoCodigo" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="produtoNome">Nome *</label>
                                <input type="text" id="produtoNome" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="produtoDescricao">Descrição</label>
                            <textarea id="produtoDescricao" class="form-control" rows="2"></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="produtoCategoria">Categoria</label>
                                <select id="produtoCategoria" class="form-control">
                                    <option value="Alimentos">Alimentos</option>
                                    <option value="Bebidas">Bebidas</option>
                                    <option value="Limpeza">Limpeza</option>
                                    <option value="Higiene">Higiene</option>
                                    <option value="Eletrônicos">Eletrônicos</option>
                                    <option value="Vestuário">Vestuário</option>
                                    <option value="Outros">Outros</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="produtoUnidade">Unidade</label>
                                <select id="produtoUnidade" class="form-control">
                                    <option value="UN">Unidade (UN)</option>
                                    <option value="KG">Quilo (KG)</option>
                                    <option value="G">Grama (G)</option>
                                    <option value="LT">Litro (LT)</option>
                                    <option value="ML">Mililitro (ML)</option>
                                    <option value="M">Metro (M)</option>
                                    <option value="CM">Centímetro (CM)</option>
                                    <option value="CX">Caixa (CX)</option>
                                    <option value="PC">Peça (PC)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="produtoPrecoCusto">Preço de Custo (R$)</label>
                                <input type="number" id="produtoPrecoCusto" class="form-control" step="0.01" min="0">
                            </div>
                            <div class="form-group">
                                <label for="produtoPrecoVenda">Preço de Venda (R$) *</label>
                                <input type="number" id="produtoPrecoVenda" class="form-control" step="0.01" min="0" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="produtoEstoque">Estoque Atual *</label>
                                <input type="number" id="produtoEstoque" class="form-control" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="produtoEstoqueMinimo">Estoque Mínimo</label>
                                <input type="number" id="produtoEstoqueMinimo" class="form-control" min="0" value="5">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="produtoCodigoBarras">Código de Barras</label>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <input type="text" id="produtoCodigoBarras" class="form-control" style="flex: 1;">
                                <button type="button" class="btn btn-primary" id="btnGerarCodigoProduto">
                                    Gerar
                                </button>
                                <button type="button" class="btn btn-success" id="btnValidarCodigoProduto">
                                    Validar
                                </button>
                            </div>
                            <div id="barcodePreview" class="mt-10"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="produtoFornecedor">Fornecedor</label>
                            <input type="text" id="produtoFornecedor" class="form-control">
                        </div>
                        
                        <div class="text-right mt-20">
                            <button type="button" class="btn btn-danger" id="cancelarProduto">Cancelar</button>
                            <button type="submit" class="btn btn-success">Salvar Produto</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Cliente -->
    <div id="modalCliente" class="modal">
        <div class="modal-content glass">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title" id="modalClienteTitulo">Novo Cliente</h2>
                    <button class="btn btn-danger" id="fecharModalCliente">&times;</button>
                </div>
                <div class="card-body">
                    <form id="formCliente">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clienteNome">Nome Completo *</label>
                                <input type="text" id="clienteNome" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="clienteCpfCnpj">CPF/CNPJ</label>
                                <input type="text" id="clienteCpfCnpj" class="form-control" placeholder="000.000.000-00 ou 00.000.000/0000-00">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clienteTelefone">Telefone *</label>
                                <input type="tel" id="clienteTelefone" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="clienteEmail">Email</label>
                                <input type="email" id="clienteEmail" class="form-control">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="clienteEndereco">Endereço</label>
                            <input type="text" id="clienteEndereco" class="form-control" placeholder="Rua, número, complemento">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clienteCidade">Cidade</label>
                                <input type="text" id="clienteCidade" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="clienteEstado">Estado</label>
                                <select id="clienteEstado" class="form-control">
                                    <option value="">Selecione</option>
                                    <option value="AC">AC</option>
                                    <option value="AL">AL</option>
                                    <option value="AP">AP</option>
                                    <option value="AM">AM</option>
                                    <option value="BA">BA</option>
                                    <option value="CE">CE</option>
                                    <option value="DF">DF</option>
                                    <option value="ES">ES</option>
                                    <option value="GO">GO</option>
                                    <option value="MA">MA</option>
                                    <option value="MT">MT</option>
                                    <option value="MS">MS</option>
                                    <option value="MG">MG</option>
                                    <option value="PA">PA</option>
                                    <option value="PB">PB</option>
                                    <option value="PR">PR</option>
                                    <option value="PE">PE</option>
                                    <option value="PI">PI</option>
                                    <option value="RJ">RJ</option>
                                    <option value="RN">RN</option>
                                    <option value="RS">RS</option>
                                    <option value="RO">RO</option>
                                    <option value="RR">RR</option>
                                    <option value="SC">SC</option>
                                    <option value="SP">SP</option>
                                    <option value="SE">SE</option>
                                    <option value="TO">TO</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="clienteCep">CEP</label>
                                <input type="text" id="clienteCep" class="form-control" placeholder="00000-000">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="clienteObservacoes">Observações</label>
                            <textarea id="clienteObservacoes" class="form-control" rows="2"></textarea>
                        </div>
                        
                        <div class="text-right mt-20">
                            <button type="button" class="btn btn-danger" id="cancelarCliente">Cancelar</button>
                            <button type="submit" class="btn btn-success">Salvar Cliente</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Recibo (oculto para impressão) -->
    <div id="reciboContainer" style="display: none;">
        <div class="recibo" id="recibo">
            <div class="recibo-header">
                <h2 id="reciboNomeLoja">SisLoja J&J</h2>
                <p id="reciboEndereco">Endereço da loja</p>
                <p id="reciboCnpj">CNPJ: 00.000.000/0000-00</p>
                <p id="reciboTelefone">Telefone: (00) 0000-0000</p>
            </div>
            
            <div class="recibo-info">
                <p><strong>RECIBO DE VENDA</strong></p>
                <p><strong>Nº:</strong> <span id="reciboId">0001</span></p>
                <p><strong>Data:</strong> <span id="reciboData">01/01/2024 10:00:00</span></p>
                <p><strong>Cliente:</strong> <span id="reciboCliente">Consumidor Final</span></p>
                <p><strong>Vendedor:</strong> <span id="reciboVendedor">Administrador</span></p>
                <hr>
            </div>
            
            <table class="recibo-itens">
                <thead>
                    <tr>
                        <th>Item</th>
                        <th>Qtd</th>
                        <th>Unit.</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="reciboItens">
                    <!-- Itens serão preenchidos dinamicamente -->
                </tbody>
            </table>
            
            <div class="recibo-totais">
                <p><strong>Subtotal:</strong> R$ <span id="reciboSubtotal">0.00</span></p>
                <p><strong>Desconto:</strong> R$ <span id="reciboDesconto">0.00</span></p>
                <p><strong>Acréscimo:</strong> R$ <span id="reciboAcrescimo">0.00</span></p>
                <p><strong>Total:</strong> R$ <span id="reciboTotal">0.00</span></p>
                <p><strong>Forma de Pagamento:</strong> <span id="reciboPagamento">Dinheiro</span></p>
                <p><strong>Valor Recebido:</strong> R$ <span id="reciboRecebido">0.00</span></p>
                <p><strong>Troco:</strong> R$ <span id="reciboTroco">0.00</span></p>
            </div>
            
            <div class="recibo-footer">
                <p>Obrigado pela preferência!</p>
                <p>Volte sempre!</p>
                <p class="assinatura">_________________________________</p>
                <p>Assinatura</p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/barcodes/JsBarcode.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.9/dayjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.9/locale/pt-br.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="firebase.js"></script>
    <script src="app.js"></script>
</body>
</html>
